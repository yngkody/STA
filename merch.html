<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>STA — Merch</title>

  <!-- Snipcart CSS -->
  <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.6.0/default/snipcart.css" />

  <style>
    :root{
      --ink:#111;
      --dim:#5b606b;
      --accent:#c71f2d;
      --bg:#fdfcf9;
      --panel:#fff;
      --line:#e6e6e6;
      --max:1200px;
      --g:clamp(14px,3vw,24px);
    }
    *{ box-sizing:border-box; }
    html,body{ margin:0; padding:0; }
    body{
      font:16px/1.5 system-ui,-apple-system,"Segoe UI",Inter,Roboto,"Helvetica Neue",Arial,sans-serif;
      color:var(--ink);
      background:var(--bg);
    }
    img{ max-width:100%; height:auto; display:block; }
    a{ color:inherit; text-decoration:none; }
    a:focus-visible, button:focus-visible, select:focus-visible{
      outline:2px solid var(--accent);
      outline-offset:2px;
    }
    .visually-hidden{
      position:absolute!important;width:1px!important;height:1px!important;
      padding:0!important;margin:-1px!important;overflow:hidden!important;
      clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important
    }
  </style>
</head>

<body>

  <!-- Central header -->
  <div id="sta-nav"></div>
  <script>
    (async () => {
      const navEl = document.getElementById('sta-nav');
      const candidates = ['./sta-header.html', '../sta-header.html'];
      for (const url of candidates) {
        try {
          const r = await fetch(url, { cache: 'no-store' });
          if (!r.ok) continue;
          const html = await r.text();
          // Avoid injecting GitHub 404 HTML into your page
          if (html.includes("There isn't a GitHub Pages site here")) continue;
          navEl.innerHTML = html;
          return;
        } catch {}
      }
      navEl.innerHTML = '';
    })();
  </script>

  <section class="ec" aria-label="STA Merch">
    <style>
      .ec{ background:#F7F5F3; padding:20px var(--g) 64px; overflow-x:hidden; }
      .ec .wrap{ max-width:var(--max); margin:0 auto; }

      .ec .h-title{ margin:0 0 6px; font-size:22px; font-weight:900; letter-spacing:-.01em; }
      .ec .h-sub{ margin:0 0 18px; color:var(--dim); }

      .ec .list{ display:flex; flex-direction:column; gap:12px; }

      .ec .item{
        display:grid;
        grid-template-columns:minmax(0,140px) 1fr minmax(180px,240px);
        gap:16px;
        align-items:center;
        background:#fff;
        border:1px solid var(--line);
        border-radius:8px;
        padding:14px 16px;
      }
      @media (max-width:820px){
        .ec .item{
          grid-template-columns:minmax(0,110px) minmax(0,1fr);
          grid-auto-rows:auto;
        }
        .ec .pricebox{
          grid-column:1 / -1;
          justify-self:stretch;
          border-left:0;
          padding-left:0;
          margin-top:8px;
        }
      }

      .ec .thumb{
        width:100%;
        height:140px;
        border:1px solid #eee;
        border-radius:8px;
        overflow:hidden;
        background:#f7f7f7;
      }
      .ec .thumb img{ width:100%; height:100%; object-fit:cover; }
      @media(max-width:820px){ .ec .thumb{ height:110px; } }

      .ec .info{ display:flex; flex-direction:column; gap:6px; min-width:0; }
      .ec .title{
        font-weight:900; font-size:15px; line-height:1.3;
        display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
      }
      .ec .meta{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
      .ec .badge{ font-size:12px; font-weight:900; color:#7f1d1d; background:#fff4f3; border:1px solid #ffd7d4; padding:2px 8px; border-radius:999px; }
      .ec .stock{ color:#0a6b4a; font-weight:900; font-size:13px; }

      .ec .bullets{ margin:4px 0 0; padding:0 0 0 16px; color:#3a3a3a; font-size:13px; }
      .ec .bullets li{ margin:2px 0; }

      .ec .variants{ display:flex; gap:8px; flex-wrap:wrap; margin-top:6px; }
      .ec .v-chip{
        display:inline-flex; align-items:center; gap:6px;
        padding:5px 10px; border-radius:999px;
        border:1px solid #ddd;
        background:#fff;
        font-weight:900; font-size:13px;
        cursor:pointer;
      }
      .ec .v-chip[aria-selected="true"]{
        outline:2px solid #fef3f2;
        box-shadow:0 0 0 2px #c71f2d1a;
      }
      .ec .v-chip img{
        width:18px; height:18px; border-radius:4px; object-fit:cover; border:1px solid #eee;
      }

      .ec .pricebox{
        justify-self:end;
        display:flex; flex-direction:column; gap:8px;
        border-left:1px solid #efefef;
        padding-left:16px;
        width:100%;
        max-width:100%;
      }

      .ec .price{ display:flex; align-items:baseline; gap:8px; }
      .ec .price .now{ font-size:18px; font-weight:950; }
      .ec .price .was{ font-size:12px; color:#7e8794; text-decoration:line-through; }

      .ec .shipline{ font-size:12px; color:#6a707a; }
      .ec .qtyline{ display:flex; gap:8px; align-items:center; }
      .ec select.qty{
        height:34px;
        padding:0 10px;
        border:1px solid #dcdcdc;
        border-radius:8px;
        background:#fff;
        font-weight:900;
      }

      .ec .btn{
        display:inline-flex; justify-content:center; align-items:center;
        width:100%; height:40px;
        border-radius:8px;
        border:1px solid #dcdcdc;
        background:#fff;
        color:#111;
        font-weight:950;
        cursor:pointer;
      }
      .ec .btn.primary{
        background:var(--accent);
        border-color:var(--accent);
        color:#fff;
      }
      .ec .btn.primary:hover{ background:#a81823; border-color:#a81823; }
      .ec .btn:hover{ background:#f7f7f7; }
    </style>

    <div class="wrap">
      <h2 class="h-title">STA Hoodies &amp; Shirts</h2>
      <p class="h-sub">Get high in style with our signature collection!</p>

      <div class="list">

        <!-- ===================== HOODIE ===================== -->
        <article class="item" data-product="sta-hoodie">
          <a class="thumb" href="./merchandise.html?item=sta-hoodie" aria-label="View STA Hoodie">
            <img id="hoodie-img"
              src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=1500w"
              alt="STA Hoodie — Front">
          </a>

          <div class="info">
            <div class="title">STA Signature Hoodie — Heavyweight</div>
            <div class="meta">
              <span class="badge">Limited Run</span>
              <span class="stock">In stock</span>
            </div>
            <ul class="bullets">
              <li>Double-lined hood, heavyweight fleece</li>
              <li>Front &amp; back artwork</li>
              <li>NYC print shop quality</li>
            </ul>

            <div class="variants" data-target-img="hoodie-img" data-addbtn="#hoodie-add">
              <button type="button" class="v-chip" aria-selected="true"
                data-sku="STA-HOODIE-FRONT-BLK"
                data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=1500w">
                <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=200w" alt="">
                Front
              </button>

              <button type="button" class="v-chip" aria-selected="false"
                data-sku="STA-HOODIE-BACK-BLK"
                data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/f6e7d359-b9e2-471e-888e-664bd3c7324b/AC38F5BD-BBCF-4E6E-AFAF-DF3A52B490B3+%281%29.png?format=1500w">
                <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/f6e7d359-b9e2-471e-888e-664bd3c7324b/AC38F5BD-BBCF-4E6E-AFAF-DF3A52B490B3+%281%29.png?format=200w" alt="">
                Back
              </button>
            </div>
          </div>

          <aside class="pricebox">
            <div class="price"><span class="now">$80.00</span><span class="was">$85</span></div>
            <div class="shipline">Ships in 2–4 business days</div>

            <div class="qtyline">
              <label for="qh" class="visually-hidden">Qty</label>
              <select id="qh" class="qty" aria-label="Quantity">
                <option>1</option><option>2</option><option>3</option><option>4</option>
              </select>
            </div>

            <button id="hoodie-add" class="snipcart-add-item btn primary"
              data-item-id="STA-HOODIE-FRONT-BLK"
              data-item-name="STA Signature Hoodie"
              data-item-price="80.00"
              data-item-url="./merch.html"
              data-item-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=1500w"
              data-item-quantity="1">
              Add to Cart
            </button>

            <a class="btn" href="./merchandise.html?item=sta-hoodie">View details</a>
          </aside>
        </article>

        <!-- ===================== TEE ===================== -->
        <article class="item" data-product="sta-tee">
          <a class="thumb" href="./merchandise.html?item=sta-tee" aria-label="View STA Tee">
            <img id="tee-img"
              src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=1500w"
              alt="STA Tee — Front">
          </a>

          <div class="info">
            <div class="title">STA Classic Tee — Ringspun Cotton</div>
            <div class="meta">
              <span class="badge">New</span>
              <span class="stock">In stock</span>
            </div>
            <ul class="bullets">
              <li>Soft ringspun cotton</li>
              <li>Front &amp; back artwork</li>
              <li>Everyday fit</li>
            </ul>

            <div class="variants" data-target-img="tee-img" data-addbtn="#tee-add">
              <button type="button" class="v-chip" aria-selected="true"
                data-sku="STA-TEE-FRONT-WHT"
                data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=1500w">
                <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=200w" alt="">
                Front
              </button>

              <button type="button" class="v-chip" aria-selected="false"
                data-sku="STA-TEE-BACK-WHT"
                data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/6dfc190b-3f95-4236-b40d-327b2a7057fe/3STA_Art_Back_PrintReady.png?format=1500w">
                <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/6dfc190b-3f95-4236-b40d-327b2a7057fe/3STA_Art_Back_PrintReady.png?format=200w" alt="">
                Back
              </button>
            </div>
          </div>

          <aside class="pricebox">
            <div class="price"><span class="now">$40.00</span><span class="was">$42</span></div>
            <div class="shipline">Usually ships next day</div>

            <div class="qtyline">
              <label for="qt" class="visually-hidden">Qty</label>
              <select id="qt" class="qty" aria-label="Quantity">
                <option>1</option><option>2</option><option>3</option><option>4</option>
              </select>
            </div>

            <button id="tee-add" class="snipcart-add-item btn primary"
              data-item-id="STA-TEE-FRONT-WHT"
              data-item-name="STA Classic Tee"
              data-item-price="40.00"
              data-item-url="./merch.html"
              data-item-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=1500w"
              data-item-quantity="1">
              Add to Cart
            </button>

            <a class="btn" href="./merchandise.html?item=sta-tee">View details</a>
          </aside>
        </article>

      </div>
    </div>

    <script>
      // Variant chips: swap image + update add-to-cart SKU/image
      document.addEventListener('click', (e) => {
        const chip = e.target.closest('.v-chip');
        if (!chip) return;

        const group = chip.closest('.variants');
        if (!group) return;

        const imgId = group.getAttribute('data-target-img');
        const addSel = group.getAttribute('data-addbtn');

        const imgEl = imgId ? document.getElementById(imgId) : null;
        const addBtn = addSel ? document.querySelector(addSel) : null;

        group.querySelectorAll('.v-chip').forEach(c => c.setAttribute('aria-selected','false'));
        chip.setAttribute('aria-selected','true');

        const src = chip.getAttribute('data-image');
        const sku = chip.getAttribute('data-sku');

        if (imgEl && src) imgEl.src = src;
        if (addBtn && sku) addBtn.setAttribute('data-item-id', sku);
        if (addBtn && src) addBtn.setAttribute('data-item-image', src);
      }, true);

      // Qty sync BEFORE Snipcart sees the click (capture phase, no blocking)
      document.addEventListener('click', (e) => {
        const btn = e.target.closest('.snipcart-add-item');
        if (!btn) return;

        const card = btn.closest('.item');
        const qtySel = card ? card.querySelector('select.qty') : null;
        const qty = parseInt(qtySel?.value || '1', 10) || 1;

        btn.setAttribute('data-item-quantity', String(qty));

        // Optional: ensure item-url is the current page (better for Snipcart validation on Pages)
        const currentUrl = window.location.origin + window.location.pathname;
        btn.setAttribute('data-item-url', currentUrl);
      }, true);
    </script>

  </section>

  <!-- Snipcart Root (ONCE) -->
  <div hidden id="snipcart" data-api-key="ZTdhMTVkNTMtMjU2Mi00ZDZiLThmMjYtMGU5ZTA3Mzk4Y2I0NjM4OTYyNDgzNDg1OTU2NTYx"></div>
  <script defer src="https://cdn.snipcart.com/themes/v3.6.0/default/snipcart.js"></script>

</body>
</html>
