<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>STA — Merch</title>

  <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.6.0/default/snipcart.css" />

  <style>
    :root{
      --ink:#111;
      --dim:#5b606b;
      --accent:#c71f2d;
      --bg:#fdfcf9;
      --panel:#fff;
      --line:#e6e6e6;
      --shadow:0 12px 34px rgba(16,24,40,.10);
      --max:1200px;
      --g:clamp(14px,3vw,24px);
    }
    *{ box-sizing:border-box; }
    html,body{ margin:0; padding:0; }
    body{
      font:16px/1.5 system-ui,-apple-system,"Segoe UI",Inter,Roboto,"Helvetica Neue",Arial,sans-serif;
      color:var(--ink);
      background:var(--bg);
    }
    img{ max-width:100%; height:auto; display:block; }
    a{ color:inherit; text-decoration:none; }
  </style>
</head>

<body>

  <!-- Central header -->
  <div id="sta-nav"></div>
  <script>
    fetch('./sta-header.html')
      .then(r => r.text())
      .then(html => document.getElementById('sta-nav').innerHTML = html);
  </script>

  <section class="sta-merch ec" aria-label="STA Merch">
    <style>
      .ec{ background:#F7F5F3; padding:20px var(--g) 64px; overflow-x:hidden; }
      .ec .wrap{ max-width:var(--max); margin:0 auto; }

      .ec .h-title{ margin:0 0 6px; font-size:22px; font-weight:900; letter-spacing:-.01em; }
      .ec .h-sub{ margin:0 0 18px; color:var(--dim); }

      .ec .list{ display:flex; flex-direction:column; gap:12px; }

      .ec .item{
        display:grid;
        grid-template-columns: minmax(0,140px) 1fr minmax(180px, 240px);
        gap:16px;
        align-items:center;
        background:#fff;
        border:1px solid #e6e6e6;
        border-radius:6px;
        box-shadow:0 1px 0 rgba(0,0,0,.02);
        padding:14px 16px;
        cursor:pointer;
      }

      @media (max-width:820px){
        .ec .item{
          grid-template-columns: minmax(0,110px) minmax(0,1fr);
          grid-auto-rows:auto;
          cursor:default;
        }
        .ec .pricebox{
          grid-column:1 / -1;
          justify-self:stretch;
          width:100%;
          max-width:none;
          border-left:0;
          padding-left:0;
        }
      }

      .ec .thumb{
        width:100%;
        height:140px;
        border:1px solid #eee;
        border-radius:4px;
        overflow:hidden;
        background:#f7f7f7;
      }
      .ec .thumb img{ width:100%; height:100%; object-fit:cover; }
      @media(max-width:820px){ .ec .thumb{ height:110px; } }

      .ec .info{ display:flex; flex-direction:column; gap:6px; min-width:0; }
      .ec .title{
        font-weight:900; font-size:15px; color:var(--ink); line-height:1.3;
        display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
      }
      .ec .meta{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
      .ec .badge{ font-size:12px; font-weight:800; color:#7f1d1d; background:#fff4f3; border:1px solid #ffd7d4; padding:2px 6px; border-radius:999px; }
      .ec .stock{ color:#0a6b4a; font-weight:800; font-size:13px; }

      .ec .rating{ display:inline-flex; gap:2px; align-items:center; font-size:12px; color:#9a9fa8; }
      .ec .rating svg{ width:14px; height:14px; }

      .ec .bullets{ margin:4px 0 0; padding:0 0 0 16px; color:#3a3a3a; font-size:13px; }
      .ec .bullets li{ margin:2px 0; }

      .ec .variants{ display:flex; gap:8px; flex-wrap:wrap; margin-top:6px; }

      .ec .v-chip{
        display:inline-flex; align-items:center; gap:6px;
        padding:4px 10px; border-radius:999px; background:#fff;
        border:1px solid #ddd; font-weight:800; font-size:13px; cursor:pointer;
        transition:background .12s ease, border-color .12s ease;
      }
      .ec .v-chip:hover{ background:#fafafa; border-color:#d6d6d6; }
      .ec .v-chip[aria-selected="true"]{ outline:2px solid #fef3f2; box-shadow:0 0 0 2px #c71f2d1a; outline-offset:1px; }
      .ec .v-chip img{ width:20px; height:20px; border-radius:4px; object-fit:cover; border:1px solid #eee; }

      .ec .pricebox{
        justify-self:end;
        display:flex; flex-direction:column; gap:8px;
        border-left:1px solid #efefef;
        padding-left:16px;
        width:100%;
        max-width:100%;
        overflow:hidden;
      }

      .ec .price{ display:flex; align-items:baseline; gap:8px; }
      .ec .price .now{ font-size:18px; font-weight:900; color:#111; }
      .ec .price .was{ font-size:12px; color:#7e8794; text-decoration:line-through; }

      .ec .shipline{ font-size:12px; color:#6a707a; }
      .ec .qtyline{ display:flex; gap:8px; align-items:center; }
      .ec select.qty{ height:34px; padding:0 8px; border:1px solid #dcdcdc; border-radius:6px; background:#fff; font-weight:900; }

      .ec .btn{
        display:inline-flex; justify-content:center; align-items:center;
        width:100%; height:40px; border-radius:6px; border:1px solid #dcdcdc;
        background:#fff; color:#111; font-weight:900; cursor:pointer;
        transition:background .12s ease, transform .12s ease, border-color .12s ease;
      }
      .ec .btn:hover{ background:#f7f7f7; border-color:#cfcfcf; }
      .ec .btn.primary{
        background:var(--accent); color:#fff; border-color:var(--accent);
        box-shadow:0 4px 12px rgba(199,31,45,.18);
      }
      .ec .btn.primary:hover{ background:#a81823; border-color:#a81823; transform:translateY(-1px); }

      .visually-hidden{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}
      .ec a:focus-visible, .ec button:focus-visible, .ec select:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }
    </style>

    <div class="wrap">
      <h2 class="h-title">STA Hoodies &amp; Shirts</h2>
      <p class="h-sub">Get high in style with our signature collection!</p>

      <div class="list">

        <!-- ===================== HOODIE ===================== -->
        <article class="item" data-product-key="sta-hoodie">
          <a class="thumb js-details" href="./product.html?item=sta-hoodie" aria-label="View STA Hoodie">
            <img id="hoodie-img"
              src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=1500w"
              alt="STA Hoodie — Front">
          </a>

          <div class="info">
            <div class="title">STA Signature Hoodie — Heavyweight</div>
            <div class="meta">
              <span class="badge">Limited Run</span>
              <span class="stock">In stock</span>
              <span class="rating" aria-label="4.7 stars">
                <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
                <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
                <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
                <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
                <svg viewBox="0 0 24 24" fill="#fbbf24"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
                <span>4.7</span>
              </span>
            </div>

            <ul class="bullets">
              <li>Double-lined hood, heavyweight fleece</li>
              <li>Front &amp; back artwork</li>
              <li>NYC print shop quality</li>
            </ul>

            <div class="variants" data-target-img="hoodie-img" data-addbtn="#hoodie-add">
              <button class="v-chip" aria-selected="true"
                data-variant="front"
                data-sku="STA-HOODIE-FRONT-BLK"
                data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=1500w">
                <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=200w" alt="">
                Front
              </button>

              <button class="v-chip" aria-selected="false"
                data-variant="back"
                data-sku="STA-HOODIE-BACK-BLK"
                data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/f6e7d359-b9e2-471e-888e-664bd3c7324b/AC38F5BD-BBCF-4E6E-AFAF-DF3A52B490B3+%281%29.png?format=1500w">
                <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/f6e7d359-b9e2-471e-888e-664bd3c7324b/AC38F5BD-BBCF-4E6E-AFAF-DF3A52B490B3+%281%29.png?format=200w" alt="">
                Back
              </button>
            </div>
          </div>

          <aside class="pricebox">
            <div class="price">
              <span class="now">$80.00</span>
              <span class="was">$85</span>
            </div>
            <div class="shipline">Ships in 2–4 business days</div>

            <div class="qtyline">
              <label for="qh" class="visually-hidden">Qty</label>
              <select id="qh" class="qty" aria-label="Quantity">
                <option>0</option><option selected>1</option><option>2</option><option>3</option><option>4</option>
              </select>
            </div>

            <button id="hoodie-add" class="snipcart-add-item btn primary"
              data-item-id="STA-HOODIE-FRONT-BLK"
              data-item-name="STA Signature Hoodie"
              data-item-price="80.00"
              data-item-url="./merch.html#sta-hoodie-front-blk"
              data-item-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=1500w"
              data-item-quantity="1">
              Add to Cart
            </button>

            <a class="btn js-details" href="./product.html?item=sta-hoodie">View details</a>
          </aside>
        </article>

        <!-- ===================== TEE ===================== -->
        <article class="item" data-product-key="sta-tee">
          <a class="thumb js-details" href="./product.html?item=sta-tee" aria-label="View STA Tee">
            <img id="tee-img"
              src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=1500w"
              alt="STA Tee — Front">
          </a>

          <div class="info">
            <div class="title">STA Classic Tee — Ringspun Cotton</div>
            <div class="meta">
              <span class="badge">New</span>
              <span class="stock">In stock</span>
              <span class="rating" aria-label="4.6 stars">
                <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
                <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
                <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
                <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
                <svg viewBox="0 0 24 24" fill="#fbbf24"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
                <span>4.6</span>
              </span>
            </div>

            <ul class="bullets">
              <li>Soft ringspun cotton</li>
              <li>Front &amp; back artwork</li>
              <li>Everyday fit</li>
            </ul>

            <div class="variants" data-target-img="tee-img" data-addbtn="#tee-add">
              <button class="v-chip" aria-selected="true"
                data-variant="front"
                data-sku="STA-TEE-FRONT-WHT"
                data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=1500w">
                <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=200w" alt="">
                Front
              </button>

              <button class="v-chip" aria-selected="false"
                data-variant="back"
                data-sku="STA-TEE-BACK-WHT"
                data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/6dfc190b-3f95-4236-b40d-327b2a7057fe/3STA_Art_Back_PrintReady.png?format=1500w">
                <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/6dfc190b-3f95-4236-b40d-327b2a7057fe/3STA_Art_Back_PrintReady.png?format=200w" alt="">
                Back
              </button>
            </div>
          </div>

          <aside class="pricebox">
            <div class="price">
              <span class="now">$40.00</span>
              <span class="was">$42</span>
            </div>
            <div class="shipline">Usually ships next day</div>

            <div class="qtyline">
              <label for="qt" class="visually-hidden">Qty</label>
              <select id="qt" class="qty" aria-label="Quantity">
                <option>0</option><option selected>1</option><option>2</option><option>3</option><option>4</option>
              </select>
            </div>

            <button id="tee-add" class="snipcart-add-item btn primary"
              data-item-id="STA-TEE-FRONT-WHT"
              data-item-name="STA Classic Tee"
              data-item-price="40.00"
              data-item-url="./merch.html#sta-tee-front-wht"
              data-item-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=1500w"
              data-item-quantity="1">
              Add to Cart
            </button>

            <a class="btn js-details" href="./product.html?item=sta-tee">View details</a>
          </aside>
        </article>

      </div>
    </div>

    <script>
      // 1) Variant chips: swap image + update add-to-cart SKU/image
      document.addEventListener('click', (e) => {
        const chip = e.target.closest('.v-chip');
        if(!chip) return;

        e.preventDefault();
        e.stopPropagation();

        const group = chip.closest('.variants');
        const imgId = group?.getAttribute('data-target-img');
        const addSel = group?.getAttribute('data-addbtn');
        const imgEl = imgId ? document.getElementById(imgId) : null;
        const addBtn = addSel ? document.querySelector(addSel) : null;

        group.querySelectorAll('.v-chip').forEach(c => c.setAttribute('aria-selected','false'));
        chip.setAttribute('aria-selected','true');

        const src = chip.getAttribute('data-image');
        if(imgEl && src) imgEl.src = src;

        const sku = chip.getAttribute('data-sku');
        if(addBtn && sku) addBtn.setAttribute('data-item-id', sku);
        if(addBtn && src) addBtn.setAttribute('data-item-image', src);
      });

      // 2) Qty -> data-item-quantity (right before add)
      document.addEventListener('click', (e) => {
        const btn = e.target.closest('.snipcart-add-item');
        if(!btn) return;

        e.stopPropagation();

        const card = btn.closest('.item');
        const qtySel = card?.querySelector('.qty');
        const qty = parseInt(qtySel?.value || '1', 10) || 1;
        btn.setAttribute('data-item-quantity', String(qty));
      });

      // 3) Card click -> go to product page (BUT don't hijack buttons/controls)
      document.addEventListener('click', (e) => {
        const card = e.target.closest('.item');
        if(!card) return;

        // don't hijack clicks on buttons/links/selects/chips
        if (e.target.closest('button, a, select, option, .variants')) return;

        const key = card.getAttribute('data-product-key');
        if(!key) return;

        window.location.href = `./product.html?item=${encodeURIComponent(key)}`;
      });

      // 4) Header cart open + badge update (works if your header has #openCart or .snipcart-checkout)
      document.addEventListener('snipcart.ready', () => {
        const api = window.Snipcart?.api;
        if (!api) return;

        // Hook optional openCart button if exists
        const openCart = document.getElementById('openCart');
        if (openCart) {
          openCart.addEventListener('click', (ev) => {
            ev.preventDefault();
            api.theme.cart.open();
          });
        }

        // Keep any .snipcart-items-count elements up to date
        const updateBadge = () => {
          const countEls = document.querySelectorAll('.snipcart-items-count');
          const count = api.cart.items.count();
          countEls.forEach(el => el.textContent = String(count));
        };

        updateBadge();
        api.events.on('cart.closed', updateBadge);
        api.events.on('cart.opened', updateBadge);
        api.events.on('item.added', updateBadge);
        api.events.on('item.removed', updateBadge);
        api.events.on('item.updated', updateBadge);
      });
    </script>
  </section>

  <!-- Snipcart Root (required once per page) -->
  <div hidden id="snipcart" data-api-key="ZTdhMTVkNTMtMjU2Mi00ZDZiLThmMjYtMGU5ZTA3Mzk4Y2I0NjM4OTYyNDgzNDg1OTU2NTYx"></div>
  <script>window.SnipcartSettings = window.SnipcartSettings || {};</script>
  <script defer src="https://cdn.snipcart.com/themes/v3.6.0/default/snipcart.js"></script>

</body>
</html>
