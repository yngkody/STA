<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>STA — Merch</title>
  <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.6.0/default/snipcart.css" />
  
<style>
:root{
  --ink:#111;
  --dim:#5b606b;
  --accent:#c71f2d;
  --bg:#fdfcf9;
  --panel:#fff;
  --line:#e6e6e6;
  --shadow:0 12px 34px rgba(16,24,40,.10);
  --cap:#ffffff;
  --max:1200px;
  --g:clamp(14px,3vw,24px);
}
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; }
body{
  font:16px/1.5 system-ui,-apple-system,"Segoe UI",Inter,Roboto,"Helvetica Neue",Arial,sans-serif;
  color:var(--ink);
  background:var(--bg);
}
img{ max-width:100%; height:auto; }
</style>

</head>
<body>
  
<div id="sta-nav"></div>
<script>
  fetch('./sta-header.html')
    .then(r => r.text())
    .then(html => document.getElementById('sta-nav').innerHTML = html);
</script>

<section class="sta-merch ec" aria-label="STA Merch">
  <style>
    .ec{ background: #F7F5F3; padding:20px var(--g) 64px; }
    .ec .wrap{ max-width:1200px; margin:0 auto; }

    /* Head */
    .ec .h-title{ margin:0 0 6px; font-size:22px; font-weight:800; letter-spacing:-.01em; }
    .ec .h-sub{ margin:0 0 18px; color:var(--dim); }

    /* List */
    .ec .list{ display:flex; flex-direction:column; gap:12px; }
    .ec .item{
      display:grid;
      grid-template-columns:140px 1fr 220px; /* thumb | info | price box */
      gap:16px;
      align-items:center;
      background:#fff;
      border:1px solid #e6e6e6;
      border-radius:6px;                 /* smaller, less “bubbly” */
      box-shadow:0 1px 0 rgba(0,0,0,.02);/* flatter */
      padding:14px 16px;
    }
    @media (max-width:820px){
      .ec .item{ grid-template-columns:110px 1fr; grid-auto-rows:auto; }
      .ec .pricebox{ grid-column:1 / -1; justify-self:end; width:100%; max-width:460px; }
    }

    /* Thumb */
    .ec .thumb{ width:100%; height:140px; border:1px solid #eee; border-radius:4px; overflow:hidden; background:#f7f7f7; }
    .ec .thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
    @media(max-width:820px){ .ec .thumb{ height:110px; } }

    /* Info column (middle) */
    .ec .info{ display:flex; flex-direction:column; gap:6px; min-width:0; }
    .ec .title{
      font-weight:800; font-size:15px; color:var(--ink); line-height:1.3;
      display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
    }
    .ec .meta{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .ec .badge{ font-size:12px; font-weight:700; color:#7f1d1d; background:#fff4f3; border:1px solid #ffd7d4; padding:2px 6px; border-radius:999px; }
    .ec .stock{ color:#0a6b4a; font-weight:700; font-size:13px; }
    .ec .rating{ display:inline-flex; gap:2px; align-items:center; font-size:12px; color:#9a9fa8; }
    .ec .rating svg{ width:14px; height:14px; }

    .ec .bullets{ margin:4px 0 0; padding:0 0 0 16px; color:#3a3a3a; font-size:13px; }
    .ec .bullets li{ margin:2px 0; }

    /* Variant chips (Front/Back) */
    .ec .variants{ display:flex; gap:8px; flex-wrap:wrap; margin-top:6px; }
    .ec .v-chip{
      display:inline-flex; align-items:center; gap:6px;
      padding:4px 10px; border-radius:999px; background:#fff;
      border:1px solid #ddd; font-weight:600; font-size:13px; cursor:pointer;
      transition:background .12s ease, border-color .12s ease;
    }
    .ec .v-chip:hover{ background:#fafafa; border-color:#d6d6d6; }
    .ec .v-chip[aria-selected="true"]{ outline:2px solid #fef3f2; box-shadow:0 0 0 2px #c71f2d1a; outline-offset:1px; }
    .ec .v-chip img{ width:20px; height:20px; border-radius:4px; object-fit:cover; border:1px solid #eee; }

    /* Price / CTA column (right) */
    .ec .pricebox{
      justify-self:end;
      display:flex; flex-direction:column; gap:8px;
      border-left:1px solid #efefef; padding-left:16px;
      min-width:200px;
    }
    .ec .price{ display:flex; align-items:baseline; gap:8px; }
    .ec .price .now{ font-size:18px; font-weight:900; color:#111; }
    .ec .price .was{ font-size:12px; color:#7e8794; text-decoration:line-through; }

    .ec .shipline{ font-size:12px; color:#6a707a; }
    .ec .qtyline{ display:flex; gap:8px; align-items:center; }
    .ec select.qty{ height:34px; padding:0 8px; border:1px solid #dcdcdc; border-radius:6px; background:#fff; font-weight:700; }

    .ec .btn{
      display:inline-flex; justify-content:center; align-items:center;
      width:100%; height:40px; border-radius:6px; border:1px solid #dcdcdc;
      background:#fff; color:#111; font-weight:800; text-decoration:none; cursor:pointer;
      transition:background .12s ease, transform .12s ease, border-color .12s ease;
    }
    .ec .btn:hover{ background:#f7f7f7; border-color:#cfcfcf; }
    .ec .btn.primary{
      background:var(--accent); color:#fff; border-color:var(--accent);
      box-shadow:0 4px 12px rgba(199,31,45,.18);
    }
    .ec .btn.primary:hover{ background:#a81823; border-color:#a81823; transform:translateY(-1px); }

    /* a11y */
   
    .ec a:focus-visible, .ec button:focus-visible, .ec select:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; }
 /* Make sizing predictable everywhere in the merch section */
.sta-merch.ec, .sta-merch.ec * { box-sizing: border-box; }

/* Prevent any horizontal overflow from the section itself */
.sta-merch.ec { overflow-x: hidden; }

/* Safer column math: the right column can’t exceed the container */
.sta-merch.ec .item{
  grid-template-columns: minmax(0,140px) 1fr minmax(180px, 240px);
}

/* Right column should never exceed the grid or bleed */
.sta-merch.ec .pricebox{
  justify-self: end;           /* desktop */
  max-width: 100%;
  width: 100%;
}

/* Buttons: never grow wider than their column */
.sta-merch.ec .btn{
  display: inline-flex;
  width: 100%;
  max-width: 100%;
  min-width: 0;
}

/* Mobile stack: right column spans full width and can’t overflow */
@media (max-width:820px){
  .sta-merch.ec .item{
    grid-template-columns: minmax(0,110px) minmax(0,1fr);
  }
  .sta-merch.ec .pricebox{
    grid-column: 1 / -1;
    justify-self: stretch;
    padding-left: 0;           /* no divider indent on mobile */
    border-left: 0;
  }
}

/* Bonus: long words/URLs won’t push the button out */
.sta-merch.ec .btn,
.sta-merch.ec .pricebox{ overflow: hidden; text-overflow: ellipsis; }

  </style>

  <div class="wrap">
    <h2 class="h-title">STA Hoodies &amp; Shirts</h2>
    <p class="h-sub">Get high in style with our signature collection!</p>

    <div class="list">

      <!-- ============= ITEM: Hoodie ============= -->
      <article class="item" data-url="/shop/sta-hoodie">
        <!-- Thumb -->
        <a class="thumb" href="/shop/sta-hoodie" aria-label="View STA Hoodie">
          <img id="hoodie-img" src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=1500w" alt="STA Hoodie — Front">
        </a>

        <!-- Info -->
        <div class="info">
          <div class="title">STA Signature Hoodie — Heavyweight</div>
          <div class="meta">
            <span class="badge">Limited Run</span>
            <span class="stock">In stock</span>
            <span class="rating" aria-label="4.7 stars">
              <!-- simple star row -->
              <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
              <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
              <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
              <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
              <svg viewBox="0 0 24 24" fill="#fbbf24"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
              <span>4.7</span>
            </span>
          </div>
          <ul class="bullets">
            <li>Double-lined hood, heavyweight fleece</li>
            <li>Front &amp; back artwork</li>
            <li>NYC print shop quality</li>
          </ul>

          <!-- Variants -->
          <div class="variants" data-target-img="hoodie-img" data-addbtn="#hoodie-add">
            <button class="v-chip" aria-selected="true"
              data-variant="front"
              data-sku="STA-HOODIE-FRONT-BLK"
              data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=1500w">
              <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=200w" alt=""> Front
            </button>
            <button class="v-chip" aria-selected="false"
              data-variant="back"
              data-sku="STA-HOODIE-BACK-BLK"
              data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/f6e7d359-b9e2-471e-888e-664bd3c7324b/AC38F5BD-BBCF-4E6E-AFAF-DF3A52B490B3+%281%29.png?format=1500w">
              <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/f6e7d359-b9e2-471e-888e-664bd3c7324b/AC38F5BD-BBCF-4E6E-AFAF-DF3A52B490B3+%281%29.png?format=200w" alt=""> Back
            </button>
          </div>
        </div>

        <!-- Price / CTA -->
        <aside class="pricebox">
          <div class="price">
            <span class="now">$80.00</span>
            <span class="was">$85</span>
          </div>
          <div class="shipline">Usually ships next day</div>

          <div class="qtyline">
            <label for="qh" class="visually-hidden">Qty</label>
            <select id="qh" class="qty" aria-label="Quantity">
              <option>0</option><option selected>1</option><option>2</option><option>3</option><option>4</option>
            </select>
          </div>

          <!-- Declarative Snipcart button; SKU & image updated by JS -->
          <button id="hoodie-add" class="snipcart-add-item btn primary"
            data-item-id="STA-HOODIE-FRONT-BLK"
            data-item-name="STA Signature Hoodie"
            data-item-price="80.00"
            data-item-url="__CURRENT_PAGE__"
            data-item-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/1f4bb64e-5bed-44b7-9d6d-afb4616c7bdb/126B40DF-C0AA-4299-BBFF-CC4ACC51125D.png?format=1500w"
            data-item-quantity="1">
            Add to Cart
          </button>

          <a class="btn" href="/shop/sta-hoodie">View details</a>
        </aside>
      </article>

      <!-- ============= ITEM: Tee ============= -->
      <article class="item" data-url="/shop/sta-shirt">
        <a class="thumb" href="/shop/sta-shirt" aria-label="View STA Tee">
          <img id="tee-img" src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=1500w" alt="STA Tee — Front">
        </a>

        <div class="info">
          <div class="title">STA Classic Tee — Ringspun Cotton</div>
          <div class="meta">
            <span class="badge">New</span>
            <span class="stock">In stock</span>
            <span class="rating" aria-label="4.6 stars">
              <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
              <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
              <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
              <svg viewBox="0 0 24 24" fill="#f59e0b"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
              <svg viewBox="0 0 24 24" fill="#fbbf24"><path d="M12 17.3l-5.2 3.1 1.4-5.9-4.5-3.9 6-.5L12 4l2.3 6.1 6 .5-4.5 3.9 1.4 5.9z"/></svg>
              <span>4.6</span>
            </span>
          </div>
          <ul class="bullets">
            <li>Soft ringspun cotton</li>
            <li>Front &amp; back artwork</li>
            <li>Everyday fit</li>
          </ul>

          <div class="variants" data-target-img="tee-img" data-addbtn="#tee-add">
            <button class="v-chip" aria-selected="true"
              data-variant="front"
              data-sku="STA-TEE-FRONT-WHT"
              data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=1500w">
              <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=200w" alt=""> Front
            </button>
            <button class="v-chip" aria-selected="false"
              data-variant="back"
              data-sku="STA-TEE-BACK-WHT"
              data-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/6dfc190b-3f95-4236-b40d-327b2a7057fe/3STA_Art_Back_PrintReady.png?format=1500w">
              <img src="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/6dfc190b-3f95-4236-b40d-327b2a7057fe/3STA_Art_Back_PrintReady.png?format=200w" alt=""> Back
            </button>
          </div>
        </div>

        <aside class="pricebox">
          <div class="price">
            <span class="now">$40.00</span>
            <span class="was">$42</span>
          </div>
          <div class="shipline">Usually ships next day</div>

          <div class="qtyline">
            <label for="qt" class="visually-hidden">Qty</label>
            <select id="qt" class="qty" aria-label="Quantity">
              <option>0</option><option selected>1</option><option>2</option><option>3</option><option>4</option>
            </select>
          </div>

          <button id="tee-add" class="snipcart-add-item btn primary"
            data-item-id="STA-TEE-FRONT-WHT"
            data-item-name="STA Classic Tee"
            data-item-price="40.00"
            data-item-url="__CURRENT_PAGE__"
            data-item-image="https://images.squarespace-cdn.com/content/v1/68e0528f4cec933d5b272876/05af804f-6d7e-4f69-91f7-98b4fafa15f3/2STA_Art_Front_PrintReady.png?format=1500w"
            data-item-quantity="1">
            Add to Cart
          </button>

          <a class="btn" href="/shop/sta-shirt">View details</a>
        </aside>
      </article>
    </div>
  </div>

  <!-- Hidden a11y helper -->
  <style>.visually-hidden{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}</style>

  <!-- Variant & qty syncing (keeps declarative Snipcart buttons) -->
  <script>
    // Update image & Add-to-Cart data when a variant chip is clicked
    document.addEventListener('click', (e) => {
      const chip = e.target.closest('.v-chip'); if(!chip) return;
      const group = chip.closest('.variants');
      const imgId = group?.getAttribute('data-target-img');
      const addSel = group?.getAttribute('data-addbtn');
      const imgEl = imgId ? document.getElementById(imgId) : null;
      const addBtn = addSel ? document.querySelector(addSel) : null;

      // toggle selection
      group.querySelectorAll('.v-chip').forEach(c => c.setAttribute('aria-selected','false'));
      chip.setAttribute('aria-selected','true');

      // swap image
      const src = chip.getAttribute('data-image');
      if(imgEl && src) imgEl.src = src;

      // push SKU/image to add button
      const sku = chip.getAttribute('data-sku');
      if(addBtn && sku){ addBtn.setAttribute('data-item-id', sku); }
      if(addBtn && src){ addBtn.setAttribute('data-item-image', src); }
    });

    // Before adding, sync quantity from select into data-attribute (Snipcart reads it)
    document.addEventListener('click', (e) => {
      const btn = e.target.closest('.snipcart-add-item'); if(!btn) return;
      const card = btn.closest('.item');
      const qtySel = card?.querySelector('.qty');
      const qty = parseInt(qtySel?.value || '1', 10) || 1;
      btn.setAttribute('data-item-quantity', String(qty));
    });

    // Optional: open cart from elsewhere (if you hook a button with id="openCart")
    document.addEventListener('snipcart.ready', () => {
      const api = window.Snipcart.api;
      document.getElementById('openCart')?.addEventListener('click', (e)=>{
        e.preventDefault(); (window.Snipcart && Snipcart.api && Snipcart.api.theme && Snipcart.api.theme.cart && Snipcart.api.theme.cart.open) ? Snipcart.api.theme.cart.open() : document.querySelector('.snipcart-checkout')?.click();
      });
    });
  </script>
</section>


<script>
  // Ensure Snipcart product URLs match the current deployed page URL (prevents "invalid product URL" issues).
  document.addEventListener('DOMContentLoaded', () => {
    const pageUrl = window.location.origin + window.location.pathname;
    document.querySelectorAll('.snipcart-add-item').forEach(btn => {
      const url = btn.getAttribute('data-item-url') || '';
      if (!url || url === '__CURRENT_PAGE__' || url.includes('merch.html')) {
        btn.setAttribute('data-item-url', pageUrl);
      }
    });
  });
</script>

<!-- ====================== Snipcart Root (required once per page) ====================== -->
<!-- IMPORTANT: put your API key on ONE line (no spaces/newlines). -->
<div hidden id="snipcart" data-api-key="ZTdhMTVkNTMtMjU2Mi00ZDZiLThmMjYtMGU5ZTA3Mzk4Y2I0NjM4OTYyNDgzNDg1OTU2NTYx"></div>
<script>window.SnipcartSettings = window.SnipcartSettings || {};</script>
<script defer src="https://cdn.snipcart.com/themes/v3.6.0/default/snipcart.js"></script>


<!-- ====================== STA / Snipcart glue (cart badge + open cart) ====================== -->


</body>
</html>
